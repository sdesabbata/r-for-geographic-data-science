<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Reproducible data science | R for Geographic Data Science</title>
<meta name="author" content="Stefano De Sabbata">
<meta name="description" content="Print this chapter  2.1 Data science Singleton and Arribas-Bel define ‚Äúgeographic data science‚Äù as a space that ‚Äúeffectively combines the long-standing tradition and epistemologies of Geographic...">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="Chapter 2 Reproducible data science | R for Geographic Data Science">
<meta property="og:type" content="book">
<meta property="og:url" content="https://sdesabbata.github.io/r-for-geographic-data-science/reproducible-data-science.html">
<meta property="og:image" content="https://sdesabbata.github.io/r-for-geographic-data-science/images/r-for-geographic-data-science-cover.png">
<meta property="og:description" content="Print this chapter  2.1 Data science Singleton and Arribas-Bel define ‚Äúgeographic data science‚Äù as a space that ‚Äúeffectively combines the long-standing tradition and epistemologies of Geographic...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Reproducible data science | R for Geographic Data Science">
<meta name="twitter:description" content="Print this chapter  2.1 Data science Singleton and Arribas-Bel define ‚Äúgeographic data science‚Äù as a space that ‚Äúeffectively combines the long-standing tradition and epistemologies of Geographic...">
<meta name="twitter:image" content="https://sdesabbata.github.io/r-for-geographic-data-science/images/r-for-geographic-data-science-cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2Y0M0936JL"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2Y0M0936JL');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Geographic Data Science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="introduction-to-r.html"><span class="header-section-number">1</span> Introduction to R</a></li>
<li><a class="active" href="reproducible-data-science.html"><span class="header-section-number">2</span> Reproducible data science</a></li>
<li><a class="" href="data-manipulation.html"><span class="header-section-number">3</span> Data manipulation</a></li>
<li><a class="" href="table-operations.html"><span class="header-section-number">4</span> Table operations</a></li>
<li class="book-part">Data analysis</li>
<li><a class="" href="exploratory-visualisation.html"><span class="header-section-number">5</span> Exploratory visualisation</a></li>
<li><a class="" href="exploratory-statistics.html"><span class="header-section-number">6</span> Exploratory statistics</a></li>
<li><a class="" href="comparing-data.html"><span class="header-section-number">7</span> Comparing data</a></li>
<li><a class="" href="regression-analysis.html"><span class="header-section-number">8</span> Regression analysis</a></li>
<li class="book-part">Machine learning</li>
<li><a class="" href="supervised-machine-learning.html"><span class="header-section-number">9</span> Supervised machine learning</a></li>
<li><a class="" href="unsupervised-machine-learning.html"><span class="header-section-number">10</span> Unsupervised machine learning</a></li>
<li class="book-part">R scripting</li>
<li><a class="" href="control-structures.html"><span class="header-section-number">11</span> Control structures</a></li>
<li><a class="" href="working-with-functions.html"><span class="header-section-number">12</span> Working with functions</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="appendix-1.html">Appendix 1</a></li>
<li><a class="" href="solutions.html">Solutions</a></li>
<li><a class="" href="lecture-slides.html">Lecture slides</a></li>
<li><a class="" href="reading-list.html">Reading list</a></li>
<li><a class="" href="references-1.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/sdesabbata/r-for-geographic-data-science">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="reproducible-data-science" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Reproducible data science<a class="anchor" aria-label="anchor" href="#reproducible-data-science"><i class="fas fa-link"></i></a>
</h1>
<p><br><small><a href="javascript:if(window.print)window.print()">Print this chapter</a></small></p>
<div id="data-science" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Data science<a class="anchor" aria-label="anchor" href="#data-science"><i class="fas fa-link"></i></a>
</h2>
<p>Singleton and Arribas-Bel define ‚Äúgeographic data science‚Äù as a space that <em>‚Äúeffectively combines the long-standing tradition and epistemologies of Geographic Information Science and Geography with many of the recent advances that have given Data Science its relevance in an emerging ‚Äòdatafied‚Äô world‚Äù</em> (Singleton and Arribas-Bel, 2021, p67<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="references-1.html#ref-singleton2021geographic" role="doc-biblioref"&gt;Alex Singleton and Daniel Arribas-Bel, &lt;span&gt;‚ÄúGeographic Data Science,‚Äù&lt;/span&gt; &lt;em&gt;Geographical Analysis&lt;/em&gt; 53, no. 1 (2021): 61‚Äì75, https://doi.org/&lt;/a&gt;&lt;a href="https://doi.org/10.1111/gean.12194" role="doc-biblioref"&gt;https://doi.org/10.1111/gean.12194&lt;/a&gt;.&lt;/p&gt;'><sup>9</sup></a></span>). In particular, they argue that ‚Äúdata science‚Äù emerged as a term to indicate the use of statistical and visual analytics tool to study a world where the digitalisation of everyday life resulted in a ‚Äúdata deluge‚Äù commonly referred to as ‚Äúbig data‚Äù<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="references-1.html#ref-kitchin2014data" role="doc-biblioref"&gt;Rob Kitchin, &lt;em&gt;The Data Revolution: Big Data, Open Data, Data Infrastructures and Their Consequences&lt;/em&gt; (Sage, 2014)&lt;/a&gt;.&lt;/p&gt;'><sup>10</sup></a></span>. The academic debate about the historical and epistemological background of the term ‚Äúdata science‚Äù is quite complex, but the term has now acquired wide-spread usage.</p>
<p>As such, ‚Äúdata science‚Äù is commonly used to refer to a set of tools and approaches to analysing data, including statistical analysis, visualisation and (what used to be referred to as) data mining. Data science also overlaps with the field of machine learning, which is a part of artificial intelligence and includes methods normally under the umbrella of statistics. If, at this point, you are confused, don‚Äôt worry, that‚Äôs quite normal. These definitions are frequently debated and frequently prone to become <a href="https://en.wikipedia.org/wiki/Buzzword">buzzwords</a>.</p>
<p>This book focuses on an introduction to data science using R and a focus on geographic themes, although not necessarily using spatial analysis (i.e., when spatial relationships are part of the computation), which is covered in another module and wonderful books such as <a href="https://uk.sagepub.com/en-gb/eur/an-introduction-to-r-for-spatial-analysis-and-mapping/book241031"><em>An Introduction to R for Spatial Analysis and Mapping</em></a> by Chris Brunsdon and Lex Comber and <a href="https://geocompr.robinlovelace.net/"><em>Geocomputation with R</em></a> by Robin Lovelace, Jakub Nowosad and Jannes Muenchow.</p>
<div id="r-scripts" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> R Scripts<a class="anchor" aria-label="anchor" href="#r-scripts"><i class="fas fa-link"></i></a>
</h3>
<p>The RStudio Console is handy to interacting with the <code>R</code> interpreter and obtain results of operations and commands. However, moving from simple instructions to an actual program or script to conduct data analysis, the Console is usually not sufficient anymore. In fact, the Console is not a very comfortable way of providing long and complex instructions to the interpreter. For instance, it doesn‚Äôt easily allow you to overwrite past instructions when you want to change something in your procedure. A better option to create programs or data analysis scripts of any significant size is to use the RStudio integrated editor to create an <code>R</code> script.</p>
<p>To create an <code>R</code> script, select from the top menu <em>File &gt; New File &gt; R Script</em>. That opens the embedded RStudio editor and a new empty <code>R</code> script folder. Copy the two lines below into the file. The first loads the <code>tidyverse</code> library, whereas the second simply calculates the square root of two.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the Tidyverse</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate the square root of two</span></span>
<span><span class="fl">2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1.414214</code></pre>
<p>As you can see, a comment precedes each line, describing what the subsequent command does. Adequately commenting the code is a fundamental practice in programming. As this is a learning resource, the comments in the examples below explain <em>‚Äúwhat‚Äù</em> the subsequent lines of code do. However, comments should generally focus on <em>‚Äúhow‚Äù</em> a procedure (i.e., an algorithm) is implemented in a set of instructions (i.e., a section of the script) and crucially on <em>‚Äúwhy‚Äù</em> the procedure has been implemented in a specific way. We will see more complex examples in the rest of this book.</p>
<p>From the top menu, select <em>File &gt; Save</em>, type in <code>my-first-script.R</code> (make sure to include the underscore and the <code>.R</code> extension) as <em>File name</em>, and click <em>Save</em>. Finally, click the <em>Source</em> button on the top-right of the editor.</p>
<p>Congratulations, you have executed your first <code>R</code> script! üòäüëç</p>
<p>You can then edit the script by adding (for instance) the new lines of code shown below, saving the file, and executing the script‚Äôs new version.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First variable in a script:</span></span>
<span><span class="co"># the line below uses the Sys.time of the base library </span></span>
<span><span class="co"># to obtain the current time as a character string</span></span>
<span><span class="va">current_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Self-test question</strong>: What happens if you click the <em>Source</em> button again and thus execute the new version of the script? What happens if you click <em>Source</em> a third time?</p>
<p>RStudio also allows to select one or more lines and click <em>Run</em> to execute only the selected lines or the line where the cursor currently is.</p>
</div>
</div>
<div id="complex-data-types" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Complex data types<a class="anchor" aria-label="anchor" href="#complex-data-types"><i class="fas fa-link"></i></a>
</h2>
<p>Create a new empty R script following the procedure above, add a line loading the Tidyverse library and save it as <code>practical-102_my-script-001.R</code>. While reading the rest of this section, copy the new code in the script and use <em>Run</em> to execute the single instructions.</p>
<div id="vectors" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h3>
<p>Programming languages commonly provide both simple data types, such as those seen in the previous chapter, and more complex objects capable of storing and organising multiple values. The simplest of those complex objects allow storing multiple values of the same type in an ordered list. Such objects take different names in different languages. In <code>R</code>, they are referred to as <strong>vectors</strong><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The term &lt;em&gt;list&lt;/em&gt; has a specific meaning in &lt;code&gt;R&lt;/code&gt;. Don‚Äôt use the term &lt;em&gt;list&lt;/em&gt; to refer to &lt;em&gt;vectors&lt;/em&gt;.&lt;/p&gt;"><sup>11</sup></a>.</p>
<p>Vectors can be defined in R by using the function <code>c</code>, which takes as parameters the items to be stored in the vector. The items are stored in the order in which they are provided.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">east_midlands_cities</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Derby"</span>, <span class="st">"Leicester"</span>, <span class="st">"Lincoln"</span>, <span class="st">"Nottingham"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">east_midlands_cities</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Once the vector has been created and assigned to an identifier, the elements within the vector can be retrieved by specifying the identifier, followed by square brackets and the <em>index</em> (or indices as we will see further below) of the elements to be retrieved. Indices start from <code>1</code>, so the index of the first element is <code>1</code>, the index of the second element is <code>2</code>, and so on and so forth<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;That is different from many programming languages, where the index of the first element is &lt;code&gt;0&lt;/code&gt;.&lt;/p&gt;"><sup>12</sup></a>.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve the third city</span></span>
<span><span class="va">east_midlands_cities</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Lincoln"</code></pre>
<p>To retrieve any subset of a vector (i.e., more than one element), you can specify an integer vector containing the indices (rather than a single integer value) of the items of interest between square brackets.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve first and third city</span></span>
<span><span class="va">east_midlands_cities</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Derby"   "Lincoln"</code></pre>
<p>The operator <code>:</code> can be used to create integer vectors, starting from the number specified before the operator to the number specified after the operator.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a vector containing integers between 2 and 4</span></span>
<span><span class="va">two_to_four</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span></span>
<span><span class="va">two_to_four</span></span></code></pre></div>
<pre><code>## [1] 2 3 4</code></pre>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve cities between the second and the fourth</span></span>
<span><span class="va">east_midlands_cities</span><span class="op">[</span><span class="va">two_to_four</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Leicester"  "Lincoln"    "Nottingham"</code></pre>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># As the second element of two_to_four is 3...</span></span>
<span><span class="va">two_to_four</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the following command will retrieve the third city</span></span>
<span><span class="va">east_midlands_cities</span><span class="op">[</span><span class="va">two_to_four</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Lincoln"</code></pre>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a vector with cities from the previous vector</span></span>
<span><span class="va">selected_cities</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">east_midlands_cities</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">east_midlands_cities</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>The functions <code>seq</code> and <code>rep</code> can also be used to create vectors, as illustrated below.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, by <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0
## [16]  8.5  9.0  9.5 10.0</code></pre>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, length.out <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  1.0  2.8  4.6  6.4  8.2 10.0</code></pre>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"Ciao"</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "Ciao" "Ciao" "Ciao" "Ciao"</code></pre>
<p>The logical operators <code>any</code> and <code>all</code> can be used to test conditions on the vector. The former returns <code>TRUE</code> if at least one element satisfies the statement and the second returns <code>TRUE</code> if all elements satisfy the condition</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">east_midlands_cities</span> <span class="op">==</span> <span class="st">"Leicester"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_sequence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">my_sequence</span></span></code></pre></div>
<pre><code>## [1]  1.0  2.5  4.0  5.5  7.0  8.5 10.0</code></pre>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">my_sequence</span> <span class="op">&gt;</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">my_sequence</span> <span class="op">&gt;</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Functions and operators can be applied to vectors in the same way as they would be applied to simple values. For instance, all built-in numerical functions in R can be used on a vector variable directly. That is, if a vector is specified as input, the selected function is applied to each element of the vector.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one_to_ten</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">one_to_ten</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one_to_ten</span> <span class="op">+</span> <span class="fl">1</span></span></code></pre></div>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">one_to_ten</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427
##  [9] 3.000000 3.162278</code></pre>
<p>Similarly, string functions can be applied to vectors containing character values. For instance, the code below uses <code>str_length</code> to obtain a vector of numeric values representing the lengths of the city names included in the vector of character values <code>east_midlands_cities</code>.</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">east_midlands_cities</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  5  9  7 10</code></pre>
<div id="selecting-and-filtering-vectors" class="section level4" number="2.2.1.1">
<h4>
<span class="header-section-number">2.2.1.1</span> Selecting and filtering vectors<a class="anchor" aria-label="anchor" href="#selecting-and-filtering-vectors"><i class="fas fa-link"></i></a>
</h4>
<p>As seen in the previous chapter, a condition entered in the Console is evaluated for the provided input, and a logical value (<code>TRUE</code> or <code>FALSE</code>) is provided as output. Similarly, if the provided input is a vector, the condition is evaluated for each element of the vector, and a vector of logical values is returned ‚Äì which contains the respective results of the conditions for each element.</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_three</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">3</span></span>
<span><span class="va">minus_three</span> <span class="op">&gt;</span> <span class="fl">0</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_three_to_three</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="va">minus_three_to_three</span></span></code></pre></div>
<pre><code>## [1] -3 -2 -1  0  1  2  3</code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_three_to_three</span> <span class="op">&gt;</span> <span class="fl">0</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<p>A subset of the elements of a vector can also be selected by providing a vector of logical values between brackets after the identifier. A new vector is returned, containing only the values for which a <code>TRUE</code> value has been specified correspondingly.</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_two_to_two</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span></span>
<span><span class="va">minus_two_to_two</span></span></code></pre></div>
<pre><code>## [1] -2 -1  0  1  2</code></pre>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_two_to_two</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] -2 -1  2</code></pre>
<p>As the result of evaluating the condition on a vector is a vector of logical values, this can be used to filter vectors based on conditions. If a condition is provided between square brackets (after the vector identifier instead of an index), a new vector is returned, which contains only the elements for which the condition is true.</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_two_to_two</span> <span class="op">&gt;</span> <span class="fl">0</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minus_two_to_two</span><span class="op">[</span><span class="va">minus_two_to_two</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
</div>
</div>
<div id="factors" class="section level3" number="2.2.2">
<h3>
<span class="header-section-number">2.2.2</span> Factors<a class="anchor" aria-label="anchor" href="#factors"><i class="fas fa-link"></i></a>
</h3>
<p>A <strong>factor</strong> is a data type similar to a vector. However, the values contained in a factor can only be selected from a set of <strong>levels</strong>.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">houses_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bungalow"</span>, <span class="st">"Flat"</span>, <span class="st">"Flat"</span>,</span>
<span>  <span class="st">"Detached"</span>, <span class="st">"Flat"</span>, <span class="st">"Terrace"</span>, <span class="st">"Terrace"</span><span class="op">)</span></span>
<span><span class="va">houses_vector</span></span></code></pre></div>
<pre><code>## [1] "Bungalow" "Flat"     "Flat"     "Detached" "Flat"     "Terrace"  "Terrace"</code></pre>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">houses_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bungalow"</span>, <span class="st">"Flat"</span>, <span class="st">"Flat"</span>,</span>
<span>  <span class="st">"Detached"</span>, <span class="st">"Flat"</span>, <span class="st">"Terrace"</span>, <span class="st">"Terrace"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">houses_factor</span></span></code></pre></div>
<pre><code>## [1] Bungalow Flat     Flat     Detached Flat     Terrace  Terrace 
## Levels: Bungalow Detached Flat Terrace</code></pre>
<p>The function <strong>table</strong> can be used to obtain a tabulated count for each level.</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">houses_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bungalow"</span>, <span class="st">"Flat"</span>, <span class="st">"Flat"</span>,</span>
<span>  <span class="st">"Detached"</span>, <span class="st">"Flat"</span>, <span class="st">"Terrace"</span>, <span class="st">"Terrace"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">houses_factor</span></span></code></pre></div>
<pre><code>## [1] Bungalow Flat     Flat     Detached Flat     Terrace  Terrace 
## Levels: Bungalow Detached Flat Terrace</code></pre>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">houses_factor</span><span class="op">)</span></span></code></pre></div>
<pre><code>## houses_factor
## Bungalow Detached     Flat  Terrace 
##        1        1        3        2</code></pre>
<p>A specific set of levels can be specified when creating a factor by providing a <strong>levels</strong> argument.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">houses_factor_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"People Carrier"</span>, <span class="st">"Flat"</span>, <span class="st">"Flat"</span>, <span class="st">"Hatchback"</span>,</span>
<span>      <span class="st">"Flat"</span>, <span class="st">"Terrace"</span>, <span class="st">"Terrace"</span><span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bungalow"</span>, <span class="st">"Flat"</span>, <span class="st">"Detached"</span>,</span>
<span>       <span class="st">"Semi"</span>, <span class="st">"Terrace"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">houses_factor_spec</span><span class="op">)</span></span></code></pre></div>
<pre><code>## houses_factor_spec
## Bungalow     Flat Detached     Semi  Terrace 
##        0        3        0        0        2</code></pre>
<p>In statistics terminology, (unordered) factors are <strong>categorical</strong> (i.e., binary or nominal) variables. Levels are not ordered.</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">income_nominal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High"</span>, <span class="st">"High"</span>, <span class="st">"Low"</span>, <span class="st">"Low"</span>, <span class="st">"Low"</span>,</span>
<span>      <span class="st">"Medium"</span>, <span class="st">"Low"</span>, <span class="st">"Medium"</span><span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <em>greater than</em> operator is not meaningful on the <code>income_nominal</code> factor defined above.</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">income_nominal</span> <span class="op">&gt;</span> <span class="st">"Low"</span></span></code></pre></div>
<pre><code>## Warning in Ops.factor(income_nominal, "Low"): '&gt;' not meaningful for factors</code></pre>
<pre><code>## [1] NA NA NA NA NA NA NA NA</code></pre>
<p>In statistics terminology, ordered factors are <strong>ordinal</strong> variables. Levels are ordered.</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">income_ordered</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">ordered</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High"</span>, <span class="st">"High"</span>, <span class="st">"Low"</span>, <span class="st">"Low"</span>, <span class="st">"Low"</span>,</span>
<span>      <span class="st">"Medium"</span>, <span class="st">"Low"</span>, <span class="st">"Medium"</span><span class="op">)</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">income_ordered</span> <span class="op">&gt;</span> <span class="st">"Low"</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">income_ordered</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] Low    Low    Low    Low    Medium Medium High   High  
## Levels: Low &lt; Medium &lt; High</code></pre>
</div>
<div id="lists" class="section level3" number="2.2.3">
<h3>
<span class="header-section-number">2.2.3</span> Lists<a class="anchor" aria-label="anchor" href="#lists"><i class="fas fa-link"></i></a>
</h3>
<p>Variables of the type <strong>list</strong> can contain elements of different types (including vectors and matrices), whereas elements of vectors are all of the same type.</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">employee</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Stef"</span>, <span class="fl">2015</span><span class="op">)</span></span>
<span><span class="va">employee</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] "Stef"
## 
## [[2]]
## [1] 2015</code></pre>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">employee</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># Note the double square brackets for selection</span></span></code></pre></div>
<pre><code>## [1] "Stef"</code></pre>
<p>In <strong>named lists</strong> each element has a name, and elements can be selected using their name after the symbol <code>$</code>.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">employee</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>employee_name <span class="op">=</span> <span class="st">"Stef"</span>, start_year <span class="op">=</span> <span class="fl">2015</span><span class="op">)</span></span>
<span><span class="va">employee</span></span></code></pre></div>
<pre><code>## $employee_name
## [1] "Stef"
## 
## $start_year
## [1] 2015</code></pre>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">employee</span><span class="op">$</span><span class="va">employee_name</span></span></code></pre></div>
<pre><code>## [1] "Stef"</code></pre>
</div>
<div id="data-frames-and-tibbles" class="section level3" number="2.2.4">
<h3>
<span class="header-section-number">2.2.4</span> Data frames and tibbles<a class="anchor" aria-label="anchor" href="#data-frames-and-tibbles"><i class="fas fa-link"></i></a>
</h3>
<p>As mentioned in the previous chapter, <strong>data frames</strong> are complex data types which encode the concept of a table in R by combining and arranging together a series of simple objects. Data frames are similar to named lists, where each element of the list is a vector representing a column and all vectors have the same length, thus representing the same number of rows.</p>
<div id="example-flights-that-departed-nyc-in-2013" class="section level4" number="2.2.4.1">
<h4>
<span class="header-section-number">2.2.4.1</span> Example: Flights that Departed NYC in 2013<a class="anchor" aria-label="anchor" href="#example-flights-that-departed-nyc-in-2013"><i class="fas fa-link"></i></a>
</h4>
<p>RStudio and RStudio Server come with a number of libraries already pre-installed. However, you might find yourself in the position of wanting to install additional libraries to work with. The remainder of this chapter requires the library <a href="https://cran.r-project.org/package=nycflights13"><code>nycflights13</code></a>, which contains a table listing all the flights that departed from New York City in 2013, and it is also the dataset used in the examples of your suggested reading (<a href="https://r4ds.had.co.nz/transform.html"><em>R for Data Science</em>, chapter 5</a>) To install it, select <em>Tools &gt; Install Packages‚Ä¶</em> from the top menu. Insert <code>nycflights13</code> in the <em>Packages (separate multiple with space or comma)</em> field and click install. RStudio will automatically execute the command <code>install.packages("nycflights13")</code> (so, no need to execute that yourself) and install the required library.</p>
<p>As usual, use the function <code>library</code> to load the newly installed library, along with the library <code>knitr</code>, which can be used to produce more nicely-formatted outputs.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13">nycflights13</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">flights</span></span></code></pre></div>
<pre><code>## # A tibble: 336,776 √ó 19
##     year month   day dep_time sched_de‚Ä¶¬π dep_d‚Ä¶¬≤ arr_t‚Ä¶¬≥ sched‚Ä¶‚Å¥ arr_d‚Ä¶‚Åµ carrier
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
##  1  2013     1     1      517        515       2     830     819      11 UA     
##  2  2013     1     1      533        529       4     850     830      20 UA     
##  3  2013     1     1      542        540       2     923     850      33 AA     
##  4  2013     1     1      544        545      -1    1004    1022     -18 B6     
##  5  2013     1     1      554        600      -6     812     837     -25 DL     
##  6  2013     1     1      554        558      -4     740     728      12 UA     
##  7  2013     1     1      555        600      -5     913     854      19 B6     
##  8  2013     1     1      557        600      -3     709     723     -14 EV     
##  9  2013     1     1      557        600      -3     838     846      -8 B6     
## 10  2013     1     1      558        600      -2     753     745       8 AA     
## # ‚Ä¶ with 336,766 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
## #   ¬π‚Äãsched_dep_time, ¬≤‚Äãdep_delay, ¬≥‚Äãarr_time, ‚Å¥‚Äãsched_arr_time, ‚Åµ‚Äãarr_delay</code></pre>
<p>Create a new empty R script following the procedure above and save it as <code>practical-102_my-script-002.R</code>. Start by adding the lines above to the new R script, and continue to add the code snippets provided below while you read.</p>
</div>
<div id="selecting-and-filtering-tables" class="section level4" number="2.2.4.2">
<h4>
<span class="header-section-number">2.2.4.2</span> Selecting and filtering tables<a class="anchor" aria-label="anchor" href="#selecting-and-filtering-tables"><i class="fas fa-link"></i></a>
</h4>
<p>The approaches seen above for selecting and filtering data from vectors can be applied to data frames and tibbles. The only difference is that tables are bi-dimensional (rather than one-dimensional), and thus, two pieces of information are necessary. The first index specifies which rows to select or filter, and the second index specifies which columns to select or filter. If no information is provided for either the first or second index, all rows or columns are provided. However, as you can see from the examples below, the more complex the selection and filtering query become, the longer and less readable the code becomes.</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the 5th row</span></span>
<span><span class="va">flights</span><span class="op">[</span><span class="fl">5</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 19
##    year month   day dep_time sched_dep‚Ä¶¬π dep_d‚Ä¶¬≤ arr_t‚Ä¶¬≥ sched‚Ä¶‚Å¥ arr_d‚Ä¶‚Åµ carrier
##   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;       &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
## 1  2013     1     1      554         600      -6     812     837     -25 DL     
## # ‚Ä¶ with 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;,
## #   dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
## #   time_hour &lt;dttm&gt;, and abbreviated variable names ¬π‚Äãsched_dep_time,
## #   ¬≤‚Äãdep_delay, ¬≥‚Äãarr_time, ‚Å¥‚Äãsched_arr_time, ‚Åµ‚Äãarr_delay</code></pre>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the 3rd column</span></span>
<span><span class="va">flights</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 336,776 √ó 1
##    dep_time
##       &lt;int&gt;
##  1      517
##  2      533
##  3      542
##  4      544
##  5      554
##  6      554
##  7      555
##  8      557
##  9      557
## 10      558
## # ‚Ä¶ with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the departure time column</span></span>
<span><span class="va">flights</span><span class="op">[</span>, <span class="st">"dep_time"</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 336,776 √ó 1
##    dep_time
##       &lt;int&gt;
##  1      517
##  2      533
##  3      542
##  4      544
##  5      554
##  6      554
##  7      555
##  8      557
##  9      557
## 10      558
## # ‚Ä¶ with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the origin, destination and departure time columns</span></span>
<span><span class="va">flights</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"dest"</span>, <span class="st">"dep_time"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 336,776 √ó 3
##    origin dest  dep_time
##    &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;
##  1 EWR    IAH        517
##  2 LGA    IAH        533
##  3 JFK    MIA        542
##  4 JFK    BQN        544
##  5 LGA    ATL        554
##  6 EWR    ORD        554
##  7 EWR    FLL        555
##  8 LGA    IAD        557
##  9 JFK    MCO        557
## 10 LGA    ORD        558
## # ‚Ä¶ with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the 5th row and 3rd column</span></span>
<span><span class="va">flights</span><span class="op">[</span><span class="fl">5</span>, <span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 1
##   dep_time
##      &lt;int&gt;
## 1      554</code></pre>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the 5th to 10th rows </span></span>
<span><span class="co"># and origin, destination and departure time columns</span></span>
<span><span class="va">flights</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"dest"</span>, <span class="st">"dep_time"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 6 √ó 3
##   origin dest  dep_time
##   &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;
## 1 LGA    ATL        554
## 2 EWR    ORD        554
## 3 EWR    FLL        555
## 4 LGA    IAD        557
## 5 JFK    MCO        557
## 6 LGA    ORD        558</code></pre>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter all rows where the flights departed at 5.54am</span></span>
<span><span class="va">flights</span><span class="op">[</span><span class="va">flights</span><span class="op">$</span><span class="va">dep_time</span> <span class="op">==</span> <span class="fl">554</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 8,932 √ó 19
##     year month   day dep_time sched_de‚Ä¶¬π dep_d‚Ä¶¬≤ arr_t‚Ä¶¬≥ sched‚Ä¶‚Å¥ arr_d‚Ä¶‚Åµ carrier
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;  
##  1  2013     1     1      554        600      -6     812     837     -25 DL     
##  2  2013     1     1      554        558      -4     740     728      12 UA     
##  3    NA    NA    NA       NA         NA      NA      NA      NA      NA &lt;NA&gt;   
##  4    NA    NA    NA       NA         NA      NA      NA      NA      NA &lt;NA&gt;   
##  5    NA    NA    NA       NA         NA      NA      NA      NA      NA &lt;NA&gt;   
##  6    NA    NA    NA       NA         NA      NA      NA      NA      NA &lt;NA&gt;   
##  7  2013     1     2      554        600      -6     845     901     -16 B6     
##  8  2013     1     2      554        600      -6     841     851     -10 B6     
##  9  2013     1     2      554        600      -6     909     858      11 B6     
## 10    NA    NA    NA       NA         NA      NA      NA      NA      NA &lt;NA&gt;   
## # ‚Ä¶ with 8,922 more rows, 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, and abbreviated variable names
## #   ¬π‚Äãsched_dep_time, ¬≤‚Äãdep_delay, ¬≥‚Äãarr_time, ‚Å¥‚Äãsched_arr_time, ‚Åµ‚Äãarr_delay</code></pre>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter all rows where the flights departed at 5.54am</span></span>
<span><span class="co"># and origin, destination and departure time columns</span></span>
<span><span class="va">flights</span><span class="op">[</span><span class="va">flights</span><span class="op">$</span><span class="va">dep_time</span> <span class="op">==</span> <span class="fl">554</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"dest"</span>, <span class="st">"dep_time"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 8,932 √ó 3
##    origin dest  dep_time
##    &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;
##  1 LGA    ATL        554
##  2 EWR    ORD        554
##  3 &lt;NA&gt;   &lt;NA&gt;        NA
##  4 &lt;NA&gt;   &lt;NA&gt;        NA
##  5 &lt;NA&gt;   &lt;NA&gt;        NA
##  6 &lt;NA&gt;   &lt;NA&gt;        NA
##  7 JFK    FLL        554
##  8 JFK    PBI        554
##  9 LGA    FLL        554
## 10 &lt;NA&gt;   &lt;NA&gt;        NA
## # ‚Ä¶ with 8,922 more rows</code></pre>
<p>Fortunately, rather than working with base R instructions, we can use the <code>dplyr</code> library, which is part of the Tidyverse and offers a grammar for data manipulation. The function <code>select</code> can be used to select some <strong>columns</strong> to output. For instance, in the code below, the function <code>select</code> is used to select the columns <code>origin</code>, <code>dest</code>, and <code>dep_delay</code>, in combination with the function <code>slice_head</code>, which can be used to include only the first <code>n</code> rows (<code>5</code> in the example below) to output.</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">dest</span>, <span class="va">dep_delay</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">origin</th>
<th align="left">dest</th>
<th align="right">dep_delay</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="left">IAH</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="left">IAH</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="left">MIA</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="left">BQN</td>
<td align="right">-1</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="left">ATL</td>
<td align="right">-6</td>
</tr>
</tbody>
</table></div>
<p>The function <code>filter</code> can instead be used to filter <strong>rows</strong> based on a specified condition. In the example below, the output of the <code>filter</code> step only includes the rows where the value of <code>month</code> is <code>11</code> (i.e., the eleventh month, November).</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">origin</span>, <span class="va">dest</span>, <span class="va">year</span>, <span class="va">month</span>, <span class="va">day</span>, <span class="va">dep_delay</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">month</span> <span class="op">==</span> <span class="fl">11</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">origin</th>
<th align="left">dest</th>
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_delay</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">JFK</td>
<td align="left">PSE</td>
<td align="right">2013</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="left">SYR</td>
<td align="right">2013</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">105</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="left">CLT</td>
<td align="right">2013</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">-5</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="left">IAH</td>
<td align="right">2013</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">-6</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="left">MIA</td>
<td align="right">2013</td>
<td align="right">11</td>
<td align="right">1</td>
<td align="right">-3</td>
</tr>
</tbody>
</table></div>
<p>Notice how <code>filter</code> is used in combination with <code>select</code>. All functions in the <code>dplyr</code> library can be combined in any other order that makes logical sense. However, if the <code>select</code> step didn‚Äôt include <code>month</code>, that same column couldn‚Äôt have been used in the <code>filter</code> step.</p>
</div>
</div>
</div>
<div id="exercise-102.1" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Exercise 102.1<a class="anchor" aria-label="anchor" href="#exercise-102.1"><i class="fas fa-link"></i></a>
</h2>
<p>Extend the code in the script <code>practical-102_my-script-002.R</code> to include the code necessary to solve the questions below.</p>
<p><strong>Question 101.1.1:</strong> Write a piece of code using the pipe operator and the <code>dplyr</code> library to generate a table showing the air time and the carrier, but only for flights starting from the JFK airport. As in the examples above, use <code>slice_head</code> and <code>kable</code> to output a nicely-formatted table containing only the first 10 rows.</p>
<p><strong>Question 102.1.2:</strong> Write a piece of code using the pipe operator and the <code>dplyr</code> library to generate a table showing the arrival delay and the overall air time, but only for flights of October 12th. As in the examples above, use <code>slice_head</code> and <code>kable</code> to output a nicely-formatted table containing only the first 10 rows.</p>
<p><strong>Question 103.1.3:</strong> Write a piece of code using the pipe operator and the <code>dplyr</code> library to generate a table showing the arrival delay, origin and destination, but only for flight leaving between 11am and 2pm. As in the examples above, use <code>slice_head</code> and <code>kable</code> to output a nicely-formatted table containing only the first 10 rows.</p>
</div>
<div id="reproducibility-1" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Reproducibility<a class="anchor" aria-label="anchor" href="#reproducibility-1"><i class="fas fa-link"></i></a>
</h2>
<p>According to <span class="citation">Christopher Gandrud<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="references-1.html#ref-gandrud2018reproducible" role="doc-biblioref"&gt;&lt;em&gt;Reproducible Research with r and RStudio&lt;/em&gt; (Chapman; Hall/CRC, 2018)&lt;/a&gt;.&lt;/p&gt;'><sup>13</sup></a></span>, a quantitative analysis or project can be considered to be <strong>reproducible</strong> if: <em>‚Äúthe data and code used to make a finding are available and they are sufficient for an independent researcher to recreate the finding‚Äù</em>. Reproducibility practices are rooted in software engineering, including project design practices (such as <a href="https://en.wikipedia.org/wiki/Scrum_(software_development)">Scrum</a>), software readability principles, testing and versioning.</p>
<p>In GIScience, programming was essential to interact with early GIS software such as <a href="https://en.wikipedia.org/wiki/ArcInfo">ArcInfo</a> in the 1980s and 1990s, up until the release of the <a href="https://en.wikipedia.org/wiki/ArcGIS#ArcMap_8.0">ArcGIS 8.0</a> suite in 1999, which included a graphical user interface. The past decade has seen a gradual return to programming and scripting in GIS, especially where languages such as R and Python allowed to combine GIS capabilities with much broader data science and machine learning functionalities. Many disciplines have seen a similar trajectory, and as programming and data science become more integral to science, reproducibility practices become a cornerstone of scientific development.</p>
<p>Nowadays, many academic journals and conferences require some level of reproducibility when submitting a paper (e.g., see the <a href="https://osf.io/numa5/">AGILE Reproducible Paper Guidelines</a> from the <a href="https://agile-online.org/">Association of Geographic Information Laboratories in Europe</a>). Companies are keen on reproducible analysis, which is more reliable and more efficient in the long term. Second, as the amount of data increases, reproducible approaches effectively create reliable analyses that can be more easily verified and reproduced on different or new data. <span class="citation">Alex David Singleton, Seth Spielman, and Chris Brunsdon<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="references-1.html#ref-doi:10.1080/13658816.2015.1137579" role="doc-biblioref"&gt;&lt;span&gt;‚ÄúEstablishing a Framework for Open Geographic Information Science,‚Äù&lt;/span&gt; &lt;em&gt;International Journal of Geographical Information Science&lt;/em&gt; 30, no. 8 (2016): 1507‚Äì21, &lt;/a&gt;&lt;a href="https://doi.org/10.1080/13658816.2015.1137579" role="doc-biblioref"&gt;https://doi.org/10.1080/13658816.2015.1137579&lt;/a&gt;.&lt;/p&gt;'><sup>14</sup></a></span> have discussed the issue of reproducibility in GIScience, identifying the following best practices:</p>
<ol style="list-style-type: decimal">
<li>
<em>‚ÄúData should be accessible within the public domain and available to researchers‚Äù</em>.</li>
<li>
<em>‚ÄúSoftware used should have open code and be scrutable‚Äù</em>.</li>
<li>
<em>‚ÄúWorkflows should be public and link data, software, methods of analysis and presentation with discursive narrative‚Äù</em>.</li>
<li>
<em>‚ÄúThe peer review process and academic publishing should require submission of a workflow model and ideally open archiving of those materials necessary for replication‚Äù</em>.</li>
<li>
<em>‚ÄúWhere full reproducibility is not possible (commercial software or sensitive data) aim to adopt aspects attainable within circumstances‚Äù</em>.</li>
</ol>
<p>The rest of the chapter discusses three tools that can help you improve the reproducibility of your code: <a href="https://daringfireball.net/projects/markdown/">Markdown</a>, <a href="https://rmarkdown.rstudio.com/">RMarkdown</a> and <a href="https://git-scm.com/">Git</a>.</p>
<div id="markdown" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> Markdown<a class="anchor" aria-label="anchor" href="#markdown"><i class="fas fa-link"></i></a>
</h3>
<p>An essential tool used in creating this book is <a href="https://rmarkdown.rstudio.com/">RMarkdown</a>, an R library that allows you to create scripts that mix the <a href="https://daringfireball.net/projects/markdown/">Markdown</a> mark-up language and R, to create dynamic documents. RMarkdown script can be compiled, at which point the Markdown notation is interpreted to create the output files, while the R code is executed and the output incorporated in the document.</p>
<p>For instance, the following markdown code</p>
<pre class="mark"><code>[This is a link to the University of Leicester](http://le.ac.uk) and **this is in bold**.</code></pre>
<p>is rendered as</p>
<p><a href="http://le.ac.uk">This is a link to the University of Leicester</a> and <strong>this is in bold</strong>.</p>
<p>The core Markdown notation used in this chapter is presented below. A full RMarkdown <em>cheatsheet</em> is available <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">here</a>.</p>
<pre class="mark"><code># Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5

**bold**
*italics*

[This is a link to the University of Leicester](http://le.ac.uk)

- Example list
    - Main folder
        - Analysis
        - Data
        - Utils
    - Other bullet point
- And so on
    - and so forth

1. These are
    1. Numeric bullet points
    2. Number two
2. Another number two
3. This is number three</code></pre>
</div>
<div id="rmarkdown" class="section level3" number="2.4.2">
<h3>
<span class="header-section-number">2.4.2</span> RMarkdown<a class="anchor" aria-label="anchor" href="#rmarkdown"><i class="fas fa-link"></i></a>
</h3>
<p>R code can be embedded in RMarkdown documents using code snippets, as in the example below. That results in the code chunk being displayed within the document (as <em>echo=TRUE</em> is specified), followed by the output from the execution of the same code.</p>
<pre><code>```{r, echo=TRUE}
a_number &lt;- 0
a_number &lt;- a_number + 1
a_number &lt;- a_number + 1
a_number &lt;- a_number + 1
a_number
```</code></pre>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a_number</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">a_number</span> <span class="op">&lt;-</span> <span class="va">a_number</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="va">a_number</span> <span class="op">&lt;-</span> <span class="va">a_number</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="va">a_number</span> <span class="op">&lt;-</span> <span class="va">a_number</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="va">a_number</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>To create an RMarkdown document in RStudio, select <em>File &gt; New File &gt; R Markdown ‚Ä¶</em> ‚Äì this might prompt RStudio to update some packages. Once the RMarkdown document creation menu appears, specify ‚ÄúPractical 102‚Äù as the title and your name as the author, and select <em>PDF</em> as the output format. The new document should contain the core document information, plus some additional content that simply explains how RMarkdown works.</p>
<p>Read the document through, inspecting both the R and the Markdown code. Note how the information provided in the previous step is encoded in the first five lines which compose the heading. For each code snippet, the option <code>echo=TRUE</code> tells RStudio to include the code in the output document, along with the output of the computation. If <code>echo=FALSE</code> is specified, the code will be omitted. If the option <code>message=FALSE</code> and <code>warning=FALSE</code> are added, messages and warnings from R are not displayed in the output document.</p>
<p>Save the document (<em>File &gt; Save</em>) as <code>my-first-rmarkdown.Rmd</code> and then click the <em>Knit</em> button visible above the file panel in RStudio to compile the source file into a <em>PDF</em> file ‚Äì if the browser blocks the opening for the new file in a window, please allow the pop-up to open from the top-right of your browser. Read through the compiled document and compare it to the source document to assess how the compiled document is derived from the source.</p>
</div>
</div>
<div id="exercise-102.2" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Exercise 102.2<a class="anchor" aria-label="anchor" href="#exercise-102.2"><i class="fas fa-link"></i></a>
</h2>
<p>Create an RMarkdown document in RStudio, using <em>Exercise 102.2</em> as title and <em>PDF</em> as output. Delete all the contents except the first five lines which compose the heading. Save the document as <code>practical-102_my-report-002.Rmd</code>. Copy the questions from <em>Exercise 102.1</em> as markdown content and your answers as R code, then compile the document to produce your report by clicking on the <em>Knit</em> button on the bar above the editor panel (top-left area) in RStudio, on the left side. Check the resulting <em>pdf</em> document.</p>
<!--

## Exercise 224.2

Create an analysis document based on RMarkdown for each one of the two analyses seen in the chapters [3](200-selection-manipulation) and [4](210-table-operations). For each of the two analyses, within their respective R projects, first, create an RMarkdown document. Then, add the code from the related R script. Finally add additional content such as title, subtitles, and most importantly, some text describing the data used, how the analysis has been done, and the result obtained. Make sure you add appropriate links to the data sources and related license information, as available in the practical session materials.



## Git

Git is a free and opensource version control system. It is commonly used through a server, where a master copy of a project is kept, but it can also be used locally. Git allows storing versions of a project, thus providing file synchronisation, consistency, history browsing, and the creation of multiple branches. For a detailed introduction to Git, please refer to the [Pro Git book, written by Scott Chacon and Ben Straub](https://git-scm.com/book).

As illustrated in the image below, when working with a git repository, the most common approach is to first check-out the latest version from the main repository before start working on any file. Once a series of edits have been made, the edits to stage are selected and then committed in a permanent snapshot. One or more commits can then be pushed to the main repository.

![<a href="https://git-scm.com/book/en/v2/Getting-Started-What-is-Git%3F">by Scott Chacon and Ben Straub</a>, licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>](images/git_three_stages.png){width=80%}



### Git and RStudio

In RStudio Server, in the *Files* tab of the bottom-left panel, click on *Home* to make sure you are in your home folder -- if you are working on your own computer, create a folder for GY7702 wherever most convenient. Click on *New Folder* and enter `repos` (short for repositories) in the prompt dialogue, to create a folder named `repos`. 

If you don't have a GitHub account, create one at [github.com](https://github.com/). In RStudio, use `create_github_token` as shown below, and follow the instructions to generate a GitHub personal access token (PAT) that will allow you to synchronise your project to and from GitHub. Alternatively, you can follow GitHub's instructions on how to [create a personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token).


```r
usethis::create_github_token()
```

In RStudio, use `gitcreds_set` as shown below, and follow the instructions to store the GitHub PAT generated above locally.


```r
gitcreds::gitcreds_set()
```

Create a new repository named *my-GY7702*, following the instructions available on the [GitHub help pages](https://help.github.com/en/articles/creating-a-new-repository). Make sure you select the option to create a **Private** repository and tick the following options under the heading *Initialize this repository with*:

- *Add a README file*, which adds a `README.md` markdown file to your repository, that you can use to describe your repository and its contents;
- *Add .gitignore* selecting the `R` template, which adds a `.gitignore`, that describes which files should not be copied to the repository, such as the `R` working environment;
- optionally *Choose a license* -- that is not crucial if the repository is private, but it is good practice to include one;
    - common open-source licenses for code are the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0), the [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0.en.html) and the [MIT License](https://opensource.org/licenses/MIT).

Once the repository has been created, GitHub will take you to the repository page. Copy the link to the repository `.git` file by clicking on the green *Code* button and copying the `https` URL there available. Back to RStudio Server, select *File > New Project...* from the top menu and select *Version Control* and then *Git* from the *New Project* panel. Paste the copied URL in the *Repository URL* field, select the `repos` folder created above as folder for *Create project as subdirectory of*, and click *Create Project*. RStudio might ask you for your GitHub username and password at this point.

Before continuing, you need to record your identity with the Git system installed on the RStudio Server, for it to be able to communicate with the GitHub's server. Open the *Terminal* tab in RStudio (if not visible, select *Tools > Terminal > New Terminal* from the top menu). First, paste the command below substituting `you@example.com` with your university email (make sure to maintain the double quotes) and press the return button.

```{}
git config --global user.email "you@example.com"
```

Then, paste the command below substituting `Your Name` with your name (make sure to maintain the double quotes) and press the return button.

```{}
git config --global user.name "Your Name"
```

RStudio should have now switched to a new R project linked to you *my-GY7702* repository. In the RStudio *File* tab in the bottom-right panel, navigate to the file created for the exercises above, select the files and copy them in the folder of the new project (in the *File* tab, *More > Copy To...*).

Check the now available *Git* tab on the top-right panel, and you should see at least the newly copied files marked as untracked. Tick the checkboxes in the *Staged* column to stage the files, then click on the *Commit* button. 

In the newly opened panel *Commit* window, the top-left section shows the files, and the bottom section shows the edits. Write `My first commit` in the *Commit message* section in the top-right, and click the *Commit* button. A pop-up should notify the completed commit. Close both the pop-up panel, and click the *Push* button on the top-right of the *Commit* window. Close both the pop-up panel and the *Commit* window.

Congratulations, you have completed your first commit! Check the repository page on GitHub. If you reload the page, the top bar should show *2 commits* on the left and your files should now be visible in the file list below. If you click on *2 commits*, you can see the commit history, including both the initial commit that created the repository and the commit you just completed.

-->
<!--

## Exercise 224.3

Create a new GitHub repository named `GY7702_224_Exercise3`. Clone the repository to RStudio Server as a new an R project from that repository. Create an RMarkdown document exploring the presence of the different living arrangements in Leicester among both the different categories of the 2011 Output Area Classification and deciles of Index of Multiple Deprivations, copying the required data into the project folder. 

Your analysis should include:

- an introduction to the data and the aims of the project;
- a justification of the analysis methods;
- the code and related results;
- and a discussion of the results within the same document.



## Cloning this book

You can follow the steps listed below to clone the this book's repository.

1. Create a folder named `repos` in your home directory. If you are working on RStudio Server, in the *Files* panel, click on the `Home` button (second bar, next to the house icon), then click on `New Folder`, enter the name `repos` and click `Ok`.

2. In RStudio or RStudio Server select `File > New Project...`

3. Select `Version Control` and then `Git` (you might need to set up Git first if you are working on your own computer)

4. Copy `https://github.com/sdesabbata/r-for-geographic-data-science` in the `Repository URL` field and select the `repos` folder for the field `Create project as subdirectory of`, and click on `Create Project`.

5. Have a look around

6. Click on the project name `r-for-geographic-data-science` on the top-left of the interface and select `Close Project` to close the project.

As this book's repository is public, you can clone it, edit it as you wish and push it to your own copy of the repository. However, contributing your edits to the original repository would require a few further steps. Check out the [GitHub help pages](https://help.github.com/en/articles/committing-changes-to-a-pull-request-branch-created-from-a-fork) if you are interested.

-->
<hr>
<p><small>by <a href="https://sdesabbata.github.io/">Stefano De Sabbata</a> ‚Äì text licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>, contains public sector information licensed under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence">Open Government Licence v3.0</a>, code licensed under the <a href="https://www.gnu.org/licenses/gpl-3.0.html">GNU GPL v3.0</a>.</small></p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="introduction-to-r.html"><span class="header-section-number">1</span> Introduction to R</a></div>
<div class="next"><a href="data-manipulation.html"><span class="header-section-number">3</span> Data manipulation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#reproducible-data-science"><span class="header-section-number">2</span> Reproducible data science</a></li>
<li>
<a class="nav-link" href="#data-science"><span class="header-section-number">2.1</span> Data science</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#r-scripts"><span class="header-section-number">2.1.1</span> R Scripts</a></li></ul>
</li>
<li>
<a class="nav-link" href="#complex-data-types"><span class="header-section-number">2.2</span> Complex data types</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#vectors"><span class="header-section-number">2.2.1</span> Vectors</a></li>
<li><a class="nav-link" href="#factors"><span class="header-section-number">2.2.2</span> Factors</a></li>
<li><a class="nav-link" href="#lists"><span class="header-section-number">2.2.3</span> Lists</a></li>
<li><a class="nav-link" href="#data-frames-and-tibbles"><span class="header-section-number">2.2.4</span> Data frames and tibbles</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exercise-102.1"><span class="header-section-number">2.3</span> Exercise 102.1</a></li>
<li>
<a class="nav-link" href="#reproducibility-1"><span class="header-section-number">2.4</span> Reproducibility</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#markdown"><span class="header-section-number">2.4.1</span> Markdown</a></li>
<li><a class="nav-link" href="#rmarkdown"><span class="header-section-number">2.4.2</span> RMarkdown</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exercise-102.2"><span class="header-section-number">2.5</span> Exercise 102.2</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/sdesabbata/r-for-geographic-data-science/blob/main/src/book/102-reproducibility.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/sdesabbata/r-for-geographic-data-science/edit/main/src/book/102-reproducibility.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Geographic Data Science</strong>" was written by Stefano De Sabbata. It was last built on 2022-11-27.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
